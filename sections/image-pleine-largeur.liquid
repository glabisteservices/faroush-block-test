<style>
  .image-full-width {
    padding-top: 0px;
    padding-right: 20px;
    padding-bottom: 0px;
    padding-left: 20px;
  }
  .image-desktop-container {
    position: relative;
    display: inline-block;
    width: 100%;
  }
  .image-full-width-desktop {
    border-radius: 15px;
    width: 100%;
    height: auto;
    display: block;
  }
  @media screen and (max-width: 479px) {
    .image-full-width-desktop {
      border-radius: 9px;
      display: none;
    }
    .image-desktop-container {
      display: none;
    }
  }
  .choix-image-mobile {
    display: none;
    position: relative;
  }
  @media screen and (max-width: 479px) {
    .choix-image-mobile {
      display: block;
    }
  }
  .image-full-width-mobile {
    width: 100%;
    height: auto;
    border-radius: 9px;
    display: block;
  }
  .paragraph-text {
    font-family: Karla;
    font-size: 1.2rem;
    line-height: 1.5;
    text-align: center;
    font-weight: 500;
  }
  .heading-text {
    font-family: Karla;
    font-size: 2.5rem;
    line-height: 1.1;
    text-align: center;
    font-weight: 500;
    margin-bottom: 15px;
  }
  @media screen and (max-width: 767px) {
    .heading-text {
      font-size: 2rem;
      line-height: 1.05;
    }
  }
  .button-style {
    display: inline-block;
    font-family: Karla;
    font-weight: 600;
    font-size: 1rem;
    text-transform: uppercase;
    text-decoration: none;
    padding: 12px 24px;
    border-radius: 8px;
    border: 1px solid;
    background-color: transparent;
    transition: all 0.3s ease;
    margin-top: 15px;
  }
  .button-style:hover {
    opacity: 0.8;
  }
  @media screen and (max-width: 767px) {
    .button-style {
      font-size: 0.9rem;
      padding: 10px 20px;
    }
  }
  .paragraph-desktop {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    max-width: 80%;
    z-index: 2;
    text-align: center;
  }
  .paragraph-mobile {
    position: absolute;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    max-width: 85%;
    z-index: 2;
    text-align: center;
    width: 85%;
  }
  @media screen and (max-width: 767px) {
    .paragraph-text {
      font-size: 1rem;
    }
  }
  .text-color-brown {
    color: #6e612b;
  }
  .text-color-white {
    color: #ffffff;
  }
  @media screen and (max-width: 479px) {
    .image-full-width {
      padding-left: 10px;
      padding-right: 10px;
    }
  }
</style>

<div li-content-for-blocks="">
{% for block in section.blocks %}
  {% case block.type %}
    {% when '@app' %}
      {% render block %}
    {% when 'image-desktop' %}
      <div class="image-desktop-container" li-block="image-desktop">
        {% if block.settings.image_image %}
          {{ block.settings.image_image | image_url: width: 1200 | image_tag: class: 'image-full-width-desktop', alt: 'inherit', loading: 'lazy' }}
        {% else %}
          <img class="image-full-width-desktop" alt="inherit" src="https://cdn.prod.website-files.com/689370215f6dcea901024517/68946aa1adf18a56010a9059_Header%20image.jpg" loading="lazy">
        {% endif %}
        {% if block.settings.heading_text != blank or block.settings.paragraph_text != blank or block.settings.button_text != blank %}
          {% assign text_color_class = 'text-color-brown' %}
          {% assign button_color_class = 'text-color-brown' %}
          {% if block.settings.text_color == 'white' %}
            {% assign text_color_class = 'text-color-white' %}
          {% endif %}
          {% if block.settings.button_color == 'white' %}
            {% assign button_color_class = 'text-color-white' %}
          {% endif %}
          <div class="paragraph-desktop">
            {% if block.settings.heading_text != blank %}
              <h1 class="heading-text {{ text_color_class }}">
                {{ block.settings.heading_text }}
              </h1>
            {% endif %}
            {% if block.settings.paragraph_text != blank %}
              <p class="paragraph-text {{ text_color_class }}">
                {{ block.settings.paragraph_text }}
              </p>
            {% endif %}
            {% if block.settings.button_text != blank and block.settings.button_link != blank %}
              <a href="{{ block.settings.button_link }}" class="button-style {{ button_color_class }} hero-cta" style="border-color: {% if block.settings.button_color == 'white' %}#ffffff{% else %}#6e612b{% endif %}; color: {% if block.settings.button_color == 'white' %}#ffffff{% else %}#6e612b{% endif %};">
                {{ block.settings.button_text }}
              </a>
            {% endif %}
          </div>
        {% endif %}
      </div>
    {% when 'image-mobile' %}
      <div class="choix-image-mobile" li-block="image-mobile">
        {% if block.settings.image_image %}
          {{ block.settings.image_image | image_url: width: 800 | image_tag: class: 'image-full-width-mobile', alt: 'inherit', loading: 'lazy' }}
        {% else %}
          <img class="image-full-width-mobile" alt="inherit" src="https://cdn.prod.website-files.com/689370215f6dcea901024517/68947d5d1b9d583b83bf82ad_Mobile_HP_image.jpg" loading="lazy">
        {% endif %}
        {% if block.settings.heading_text != blank or block.settings.paragraph_text != blank or block.settings.button_text != blank %}
          {% assign text_color_class = 'text-color-brown' %}
          {% assign button_color_class = 'text-color-brown' %}
          {% if block.settings.text_color == 'white' %}
            {% assign text_color_class = 'text-color-white' %}
          {% endif %}
          {% if block.settings.button_color == 'white' %}
            {% assign button_color_class = 'text-color-white' %}
          {% endif %}
          <div class="paragraph-mobile">
            {% if block.settings.heading_text != blank %}
              <h1 class="heading-text {{ text_color_class }}">
                {{ block.settings.heading_text }}
              </h1>
            {% endif %}
            {% if block.settings.paragraph_text != blank %}
              <p class="paragraph-text {{ text_color_class }}">
                {{ block.settings.paragraph_text }}
              </p>
            {% endif %}
            {% if block.settings.button_text != blank and block.settings.button_link != blank %}
              <a href="{{ block.settings.button_link }}" class="button-style {{ button_color_class }} hero-cta" style="border-color: {% if block.settings.button_color == 'white' %}#ffffff{% else %}#6e612b{% endif %}; color: {% if block.settings.button_color == 'white' %}#ffffff{% else %}#6e612b{% endif %};">
                {{ block.settings.button_text }}
              </a>
            {% endif %}
          </div>
        {% endif %}
      </div>
    {% when 'paragraph' %}
      <!-- Le texte est maintenant intégré directement dans les blocs image-desktop et image-mobile -->
  {% endcase %}
{% endfor %}
</div>

{% schema %}
{
  "tag": "section",
  "name": "image-pleine-largeur",
  "class": "image-full-width",
  "blocks": [
    {
      "name": "image-desktop",
      "type": "image-desktop",
      "settings": [
        {
          "id": "image_image",
          "type": "image_picker",
          "label": "Image"
        },
        {
          "id": "heading_text",
          "type": "text",
          "label": "Titre H1"
        },
        {
          "id": "paragraph_text",
          "type": "textarea",
          "label": "Texte sur l'image"
        },
        {
          "id": "button_text",
          "type": "text",
          "label": "Texte du bouton"
        },
        {
          "id": "button_link",
          "type": "url",
          "label": "Lien du bouton"
        },
        {
          "id": "text_color",
          "type": "select",
          "label": "Couleur du texte",
          "options": [
            {
              "value": "brown",
              "label": "Marron (#6e612b)"
            },
            {
              "value": "white",
              "label": "Blanc (#ffffff)"
            }
          ],
          "default": "brown"
        },
        {
          "id": "button_color",
          "type": "select",
          "label": "Couleur du bouton",
          "options": [
            {
              "value": "brown",
              "label": "Marron (#6e612b)"
            },
            {
              "value": "white",
              "label": "Blanc (#ffffff)"
            }
          ],
          "default": "brown"
        }
      ]
    },
    {
      "name": "image-mobile",
      "type": "image-mobile",
      "settings": [
        {
          "id": "image_image",
          "type": "image_picker",
          "label": "Image"
        },
        {
          "id": "heading_text",
          "type": "text",
          "label": "Titre H1"
        },
        {
          "id": "paragraph_text",
          "type": "textarea",
          "label": "Texte sur l'image"
        },
        {
          "id": "button_text",
          "type": "text",
          "label": "Texte du bouton"
        },
        {
          "id": "button_link",
          "type": "url",
          "label": "Lien du bouton"
        },
        {
          "id": "text_color",
          "type": "select",
          "label": "Couleur du texte",
          "options": [
            {
              "value": "brown",
              "label": "Marron (#6e612b)"
            },
            {
              "value": "white",
              "label": "Blanc (#ffffff)"
            }
          ],
          "default": "brown"
        },
        {
          "id": "button_color",
          "type": "select",
          "label": "Couleur du bouton",
          "options": [
            {
              "value": "brown",
              "label": "Marron (#6e612b)"
            },
            {
              "value": "white",
              "label": "Blanc (#ffffff)"
            }
          ],
          "default": "brown"
        }
      ]
    },
    {
      "name": "paragraph",
      "type": "paragraph",
      "settings": [
        {
          "id": "paragraph_text",
          "type": "textarea",
          "label": "Texte du paragraphe",
          "default": "Votre texte ici..."
        },
        {
          "id": "text_color",
          "type": "select",
          "label": "Couleur du texte",
          "options": [
            {
              "value": "brown",
              "label": "Marron (#6e612b)"
            },
            {
              "value": "white",
              "label": "Blanc (#ffffff)"
            }
          ],
          "default": "brown"
        }
      ]
    },
    {
      "type": "@app"
    }
  ],
  "presets": [
    {
      "name": "image-pleine-largeur",
      "category": "Liquify",
      "blocks": [
        {
          "type": "image-desktop"
        },
        {
          "type": "image-mobile"
        }
      ]
    }
  ]
}
{% endschema %}
