<div class="announcement-wrapper">
  <div id="w-node-_83d473b7-e557-566f-74be-ecc1a2818a2d-a2818a2b" class="w-layout-layout quick-stack wf-layout-layout">
    <div li-content-for-blocks="" class="w-layout-cell cell">
      {% for block in section.blocks %}
        {% case block.type %}
          {% when '@app' %}
            {% render block %}
          {% when 'social-media-icon' %}
            <div li-block="social-media-icon" class="lien-social-media-header">
              <a href="{{ block.settings.url_link }}" class="social-media-header w-inline-block">
                {% if block.settings.image_image %}
                  {{ block.settings.image_image | image_url: width: 1000 | image_tag: loading: 'lazy' }}
                {% else %}
                  <img src="{{ 'Social-Icon.svg' | asset_url }}" loading="lazy" alt="">
                {% endif %}
              </a>
            </div>
        {% endcase %}
      {% endfor %}
    </div>
    
    <div id="w-node-_83d473b7-e557-566f-74be-ecc1a2818a32-a2818a2b" class="w-layout-cell cell-2">
      <a href="{{ section.settings.url_link }}" class="w-inline-block">
        <div class="text-block">{{ section.settings.text_text }}</div>
      </a>
    </div>
    
    <div class="w-layout-cell cell-3">
      <!-- Sélecteur de langue temporairement désactivé -->
    </div>
  </div>
</div>

<style>
  .announcement-wrapper {
    position: relative;
    z-index: 10;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-top: 10px;
  }
  
  /* Quick stack layout */
  .announcement-wrapper .quick-stack {
    width: 100%;
    padding: 0 20px;
  }
  
  /* Force l'affichage du texte central */
  .announcement-wrapper .text-block {
    color: #f5f2d9 !important;
    font-size: 14px;
    line-height: 1.2;
  }
  
  /* Alignement parfait des icônes sociales */
  .announcement-wrapper .lien-social-media-header {
    display: flex;
    align-items: center;
    justify-content: center;
    height: 32px;
  }

  .announcement-wrapper .social-media-header {
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    height: 32px;
    margin: 0 !important;
    padding: 0 !important;
  }

  .announcement-wrapper .social-media-header img {
    height: 18px !important;
    width: auto !important;
    object-fit: contain !important;
    vertical-align: middle !important;
    display: block !important;
    margin: 0 !important;
    padding: 0 !important;
  }
  
  /* Assurer que les cellules restent alignées */
  .announcement-wrapper .w-layout-cell {
    display: flex;
    align-items: center;
    height: 32px;
  }
  
  /* Cellule des icônes avec espacement */
  .announcement-wrapper .cell {
    display: flex !important;
    align-items: center !important;
    gap: 8px;
    height: 32px;
  }
  
  /* Cellule du texte central */
  .announcement-wrapper .cell-2 {
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    height: 32px;
  }
  
  /* Cellule de droite - maintenant vide mais conservée pour la structure */
  .announcement-wrapper .cell-3 {
    margin-left: auto;
    width: 0;
    overflow: hidden;
  }
  
  @media screen and (max-width: 767px) {
    .announcement-wrapper {
      margin-top: 0;
    }
    .announcement-wrapper .cell {
      display: none !important;
    }
    .announcement-wrapper .cell-3 {
      display: none !important;
    }
    .announcement-wrapper .cell-2 {
      display: flex !important;
      justify-content: center;
      width: 100%;
    }
  }
</style>

{% schema %}
{
  "tag": "header",
  "name": "Header Announcement",
  "class": "announcement-header",
  "blocks": [
    {
      "name": "social-media-icon",
      "type": "social-media-icon",
      "settings": [
        {
          "id": "url_link",
          "type": "url",
          "label": "Link"
        },
        {
          "id": "image_image",
          "type": "image_picker",
          "label": "Image"
        }
      ]
    },
    {
      "type": "@app"
    }
  ],
  "settings": [
    {
      "id": "url_link",
      "type": "url",
      "label": "Link"
    },
    {
      "id": "text_text",
      "type": "text",
      "label": "Text",
      "default": "10% offert sur votre prochaine commande"
    }
  ],
  "presets": [
    {
      "name": "Header Announcement",
      "category": "Header"
    }
  ]
}
{% endschema %}
