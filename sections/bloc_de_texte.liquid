<div li-content-for-blocks="" class="bloc-de-texte-wrapper">
  {% for block in section.blocks %}
    {% case block.type %}

      {% when '@app' %}
        {% render block %}

      {% when 'sous-titre' %}
        <div li-block="Sous-titre" class="bloc-titre-h2">
          <h2 class="heading-style-h2 centre">
            {{ block.settings.text_heading }}
          </h2>
        </div>

      {% when 'grand-texte' %}
        <div li-block="Grand-texte" class="bloc-gros-texte">
          <h1 class="heading-style-h1 centre">
            {{ block.settings.text_heading }}
          </h1>
        </div>

      {% when 'paragraphe' %}
        <div li-block="Paragraphe" class="bloc-paragraph">
          <p class="paragraph centre">
            {{ block.settings.text_paragraph }}
          </p>
        </div>

      {% when 'bouton' %}
        {% comment %}
          Construction du style du bouton en fonction des r√©glages
        {% endcomment %}
        {% assign bg_color       = block.settings.bg_color       | default: '#ec8451' %}
        {% assign text_color     = block.settings.text_color     | default: '#f5f2d9' %}
        {% assign outline_color  = block.settings.outline_color  | default: '#ec8451' %}
        {% assign button_type    = block.settings.button_type    | default: 'filled' %}

        {% if button_type == 'filled' %}
          {% assign button_style = 'background-color:' | append: bg_color | append: ';color:' | append: text_color | append: ';border:none;' %}
        {% else %}
          {% assign button_style = 'background-color:transparent;color:' | append: text_color | append: ';border:1px solid ' | append: outline_color | append: ';' %}
        {% endif %}

        <div li-block="Bouton" class="bloc-bouton-hp">
          <a
            href="{{ block.settings.url_link }}"
            class="button-2 w-button"
            style="{{ button_style }}"
          >
            {{ block.settings.text_text }}
          </a>
        </div>

    {% endcase %}
  {% endfor %}
</div>

{% schema %}
{
  "tag": "section",
  "name": "bloc-de-texte",
  "class": "bloc-text-hp",
  "blocks": [
    {
      "name": "Sous-titre",
      "type": "sous-titre",
      "settings": [
        {
          "id": "text_heading",
          "type": "text",
          "label": "Heading",
          "default": "Heading"
        }
      ]
    },
    {
      "name": "Grand-texte",
      "type": "grand-texte",
      "settings": [
        {
          "id": "text_heading",
          "type": "text",
          "label": "Heading",
          "default": "Heading"
        }
      ]
    },
    {
      "name": "Paragraphe",
      "type": "paragraphe",
      "settings": [
        {
          "id": "text_paragraph",
          "type": "text",
          "label": "Paragraph",
          "default": "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse varius enim in eros elementum tristique. Duis cursus, mi quis viverra ornare, eros dolor interdum nulla, ut commodo diam libero vitae erat. Aenean faucibus nibh et justo cursus id rutrum lorem imperdiet. Nunc ut sem vitae risus tristique posuere."
        }
      ]
    },
    {
      "name": "Bouton",
      "type": "bouton",
      "settings": [
        {
          "id": "text_text",
          "type": "text",
          "label": "Text",
          "default": "Button Text"
        },
        {
          "id": "url_link",
          "type": "url",
          "label": "Link"
        },
        {
          "id": "button_type",
          "type": "select",
          "label": "Type de bouton",
          "default": "filled",
          "options": [
            { "value": "filled", "label": "Fond plein" },
            { "value": "outline", "label": "Contour 1 px" }
          ]
        },
        {
          "id": "bg_color",
          "type": "select",
          "label": "Couleur de fond",
          "default": "#ec8451",
          "options": [
            { "value": "#ec8451", "label": "#ec8451" },
            { "value": "#f5f2d9", "label": "#f5f2d9" },
            { "value": "#6e612b", "label": "#6e612b" },
            { "value": "#bdbf85", "label": "#bdbf85" },
            { "value": "#a6d4f2", "label": "#a6d4f2" }
          ]
        },
        {
          "id": "text_color",
          "type": "select",
          "label": "Couleur du texte",
          "default": "#f5f2d9",
          "options": [
            { "value": "#ec8451", "label": "#ec8451" },
            { "value": "#f5f2d9", "label": "#f5f2d9" },
            { "value": "#6e612b", "label": "#6e612b" },
            { "value": "#bdbf85", "label": "#bdbf85" },
            { "value": "#a6d4f2", "label": "#a6d4f2" }
          ]
        },
        {
          "id": "outline_color",
          "type": "select",
          "label": "Couleur du contour (outline)",
          "default": "#ec8451",
          "options": [
            { "value": "#ec8451", "label": "#ec8451" },
            { "value": "#f5f2d9", "label": "#f5f2d9" },
            { "value": "#6e612b", "label": "#6e612b" },
            { "value": "#bdbf85", "label": "#bdbf85" },
            { "value": "#a6d4f2", "label": "#a6d4f2" }
          ]
        }
      ]
    },
    {
      "type": "@app"
    }
  ],
  "presets": [
    {
      "name": "bloc-de-texte",
      "category": "Liquify",
      "blocks": [
        { "type": "sous-titre" },
        { "type": "grand-texte" },
        { "type": "paragraphe" },
        { "type": "bouton" }
      ]
    }
  ]
}
{% endschema %}
